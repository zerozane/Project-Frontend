<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£/‡∏´‡πâ‡∏≠‡∏á - Smart Campus Admin</title>
  <link rel="stylesheet" href="css/mainstyle.css" />
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar">
    <div class="topbar-inner">
      <img src="image/rmutt.png" alt="RMUTT logo" class="logo" />
      <div class="top-title">‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏£‡∏≤‡∏ä‡∏°‡∏á‡∏Ñ‡∏•‡∏ò‡∏±‡∏ç‡∏ö‡∏∏‡∏£‡∏µ</div>
      <div class="user-menu">
        <span class="user-icon">üë§</span>
        <span class="user-name">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</span>
        <a href="login.html" class="logout-btn" aria-label="logout">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
      </div>
    </div>
  </header>

  <div class="page" style="margin-top:32px;">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <nav>
        <ul>
          <li><a href="index.html"><span class="nav-icon">üè†</span> Dashboard</a></li>
          <li class="active"><a href="buildings.html"><span class="nav-icon">üè¢</span> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£/‡∏´‡πâ‡∏≠‡∏á</a></li>
          <li><a href="users.html"><span class="nav-icon">üë•</span> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a></li>
          <li><a href="reports.html"><span class="nav-icon">üìä</span> ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</a></li>
          <li><a href="feedback.html"><span class="nav-icon">üí¨</span> ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞/‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</a></li>
        </ul>
      </nav>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <!-- HIERARCHICAL LIST (BUILDING ‚Üí DEPARTMENT ‚Üí ROOM) -->
      <section class="panel">
        <div class="panel-head">
          <h3 class="panel-title">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô/‡∏´‡πâ‡∏≠‡∏á</h3>
          <div class="toolbar">
            <button class="btn btn-primary" onclick="openBuildingModal()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</button>
            <button class="btn btn-primary" onclick="openDepartmentModal()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</button>
            <button class="btn btn-primary" onclick="openRoomModal()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
          </div>
        </div>
        <div id="departmentsTree" class="tree-container"></div>
      </section>
    </main>
  </div>

  <!-- Building Modal -->
  <div id="buildingModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</h3>
        <button class="close-btn" onclick="closeBuildingModal()">&times;</button>
      </div>
      <form onsubmit="saveBuildingModal(event)">
        <div class="form-group">
          <label>‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ *</label>
          <input type="text" id="buildingName" required>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î *</label>
            <input type="text" id="buildingLat" placeholder="‡πÄ‡∏ä‡πà‡∏ô 13.7563" required>
          </div>
          <div class="form-group">
            <label>‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î *</label>
            <input type="text" id="buildingLng" placeholder="‡πÄ‡∏ä‡πà‡∏ô 100.5018" required>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" onclick="closeBuildingModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          <button type="submit" class="btn btn-success">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Department Modal -->
  <div id="departmentModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ì‡∏∞/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</h3>
        <button class="close-btn" onclick="closeDepartmentModal()">&times;</button>
      </div>
      <form onsubmit="saveDepartmentModal(event)">
        <div class="form-group">
          <label>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô *</label>
          <input type="text" id="departmentName" required>
        </div>
        <div class="form-group">
          <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ *</label>
          <select id="departmentBuilding" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ --</option>
          </select>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" onclick="closeDepartmentModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          <button type="submit" class="btn btn-success">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Room Modal -->
  <div id="roomModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡πâ‡∏≠‡∏á/‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
        <button class="close-btn" onclick="closeRoomModal()">&times;</button>
      </div>
      <form onsubmit="saveRoomModal(event)">
        <div class="form-group">
          <label>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á/‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô *</label>
          <input type="text" id="roomName" required>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ *</label>
            <select id="roomBuilding" required>
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ --</option>
            </select>
          </div>
          <div class="form-group">
            <label>‡∏ä‡∏±‡πâ‡∏ô *</label>
            <input type="number" id="roomFloor" min="1" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡πâ‡∏≠‡∏á</label>
            <input type="text" id="roomNumber">
          </div>
        </div>
        <div class="form-group">
          <label>E-mail ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏´‡πâ‡∏≠‡∏á</label>
          <textarea id="roomDescription"></textarea>
        </div>
        <div class="form-group">
          <label>‡∏£‡∏π‡∏õ‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á‡∏ä‡∏±‡πâ‡∏ô</label>
          <div class="image-upload" onclick="document.getElementById('roomFloorPlan').click()">
            ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î ‡∏´‡∏£‡∏∑‡∏≠ ‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏õ‡∏•‡πà‡∏≠‡∏¢ (JPG, JPEG, PNG ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB)
          </div>
          <input type="file" id="roomFloorPlan" accept="image/jpeg,image/png" style="display:none;">
        </div>
        <div class="form-group">
          <label>‡∏£‡∏π‡∏õ‡∏´‡πâ‡∏≠‡∏á (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 4 ‡∏£‡∏π‡∏õ)</label>
          <div class="image-upload" onclick="document.getElementById('roomImages').click()">
            ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î ‡∏´‡∏£‡∏∑‡∏≠ ‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏õ‡∏•‡πà‡∏≠‡∏¢ (JPG, JPEG, PNG ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB)
          </div>
          <input type="file" id="roomImages" accept="image/jpeg,image/png" multiple style="display:none;">
          <div class="image-preview" id="roomImagePreview"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" onclick="closeRoomModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          <button type="submit" class="btn btn-success">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/auth.js"></script>
  <script src="js/components.js"></script>
  <script src="js/pages/buildings.js"></script>
</body>

</html>